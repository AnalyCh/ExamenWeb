
<%- include('header',{titulo:'Gestion de Eventos'}); %>

<div class="container">


    <% const existeMensaje = typeof mensaje!== "undefined"%>

    <%if(existeMensaje){ %>
    <div class=" <%=clase%>" role="alert">
        <span class="font-weight-bold">
            MENSAJE
        </span> : <%=mensaje%>
    </div>
    <% } %>

    <a href="/auto/inicio-usuario" class="quitar-link">
        <button class="btn btn-outline-success btn-block">
            Regresar al menu principal
        </button>
    </a>
    <br>

    <h1>Gestion de Eventos</h1>
    <p>Busque, cree, actualice y elimine Eventos
        Puede buscar Eventos por  el nombre, la fecha o ...</p>

    <% if(booleano){%>
        <p> Usted creo un evento</p>
    <% }%>
    <form method="get" action="/evento/inicio" >
        <div class="row">
            <div class="col-sm-9">
                <label for="busqueda">Busqueda</label>
                <input id="busqueda" type="text" name="busqueda">
                <br>
            </div>
            <div class="col-sm-3">
                <button class="btn btn-outline-success btn-block">
                    Buscar
                </button>
            </div>
        </div>
    </form>

    <div class="row">
        <div class="col-sm-9"></div>
        <div class="col-sm-3">
            <a href="/evento/crear-evento" class="quitar-link">
                <button class="btn btn-outline-success btn-block">
                    Crear evento
                </button>
            </a>
        </div>
    </div>

    <h2> lista de Eventos</h2>
    <p>Listado de las Eventos, actualice o elimine Eventos</p>

    <br>

    <div class="scroll-tabla">
        <table class="table table-hover animated slideInLeft">
            <!-- tr -> table row -->
            <thead>
            <tr>
                <!-- th -> table header -->
                <th width= "auto">Nombre</th>
                <th width="auto">Fecha</th>
                <th width="auto">Latitud</th>
                <th width="auto">Longitud</th>
                <th width="auto">Acciones</th>
                
            </tr>
            </thead>
            <!-- tr -> table row -->
            <tbody>
            <% arreglo.forEach( (evento)=> { %>
                <tr>
                    <!-- td -> table detail -->
                    <td><%= evento.nombre %></td>
                    <td><%= evento.fecha %></td>
                    <td><%= evento.latitud %></td>
                    <td><%= evento.longitud %></td>
                    
                    <td>
                        <a class="quitar-link"
                           href="/evento/actualizar-evento/<%= evento.idEvento %>">
                            <button class="btn btn-outline-info btn-block">
                                Actualizar
                            </button>
                        </a>

                        <a class="quitar-link"
                           href="/evento-por-conductor/lista-conductores/<%= evento.idEvento %>">
                            <button class="btn btn-outline-info btn-block">
                                AÃ±adir asistentes
                            </button>
                        </a>
                        <form action="/evento/eliminar/<%= evento.idevento %>" method="POST">
                            <button class="btn btn-outline-danger btn-block"
                                    type="submit">
                                Eliminar
                            </button>
                        </form>

                    </td>
                </tr>
            <% }) %>
            </tbody>

        </table>
    </div>
</div>

<%- include('librerias.ejs');%>
<script>
    //nuestros js
</script>

<%- include('footer');%>